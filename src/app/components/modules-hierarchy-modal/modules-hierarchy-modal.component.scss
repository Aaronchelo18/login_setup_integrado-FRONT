$primary: #4f46e5;
$primary-light: #eef2ff;
$success: #10b981;
$danger: #f43f5e;
$border-color: #f1f5f9;
$text-main: #0f172a;
$text-muted: #64748b;
$bg-body: #ffffff;



.mh-overlay {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  z-index: 9999;
}

.mh-modal {
  width: 100%;
  max-width: 580px; // Reducido para ser más compacto
  max-height: 70vh; // Altura reducida
  background: $bg-body;
  border-radius: 12px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  animation: modalIn 0.2s ease-out;
}

@keyframes modalIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

.mh-head {
  padding: 16px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid $border-color;

  .title-group {
    display: flex;
    align-items: center;
    gap: 12px;
    .icon-wrapper {
      width: 36px; height: 36px;
      background: $primary-light; color: $primary;
      border-radius: 8px;
      display: flex; align-items: center; justify-content: center;
      font-size: 20px;
    }
    h3 { margin: 0; font-size: 15px; font-weight: 700; color: $text-main; }
    p { margin: 0; font-size: 11px; color: $text-muted; }
  }
  .btn-close {
    background: transparent; border: none; color: $text-muted; cursor: pointer;
    &:hover { color: $danger; }
  }
}

.mh-toolbar {
  padding: 10px 20px;
  background: #fafafa;
  border-bottom: 1px solid $border-color;
}

.mh-body {
  padding: 15px 20px;
  overflow-y: auto;
  flex-grow: 1;
  background: white; // Eliminado patrón de puntos

  &::-webkit-scrollbar { width: 5px; }
  &::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }
}

/* Árbol Estilizado */
.tree-container { list-style: none; padding: 0; margin: 0; }
.tree-item { position: relative; }

.tree-branch {
  list-style: none;
  padding-left: 24px;
  margin-left: 8px;
  border-left: 1px solid #e2e8f0; // Línea sólida más fina
}

.node-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 6px 10px;
  margin-bottom: 2px;
  border-radius: 6px;
  transition: 0.2s;

  &:hover {
    background: #f8fafc;
    .node-actions { opacity: 1; }
  }
  &.is-inactive { opacity: 0.5; }
}

.node-main {
  display: flex; align-items: center; gap: 10px; flex-grow: 1;
}

.type-icon { font-size: 16px; color: #94a3b8; }

.node-content {
  display: flex; flex-direction: column;
  .node-name { font-size: 13px; font-weight: 500; color: $text-main; }
  .node-url { font-size: 10px; color: $text-muted; font-family: monospace; }
}

.caret-custom {
  cursor: pointer; display: flex; align-items: center; transition: 0.2s;
  .caret-icon { font-size: 14px; color: $text-muted; }
}

.tgl-input:checked + .node-row .caret-icon { transform: rotate(90deg); color: $primary; }
.tgl-input:not(:checked) ~ .tree-branch { display: none; }
.tgl-input { display: none; }

.node-actions {
  display: flex; gap: 4px; opacity: 0; transition: 0.2s;
}

.action-btn {
  width: 26px; height: 26px; border-radius: 4px; border: none; cursor: pointer;
  display: flex; align-items: center; justify-content: center; background: transparent;
  &:hover { background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
  &.add { color: $success; }
  &.edit { color: $primary; }
  &.delete { color: $danger; }
}

.mh-foot {
  padding: 12px 20px;
  border-top: 1px solid $border-color;
  display: flex; justify-content: flex-end; gap: 8px;
}

.btn {
  padding: 6px 14px; border-radius: 6px; font-size: 13px; font-weight: 600;
  cursor: pointer; border: 1px solid transparent; transition: 0.2s;
  display: inline-flex; align-items: center; gap: 6px;

  &-primary { background: $primary; color: white; &:hover { background: darken($primary, 5%); } }
  &-ghost { background: transparent; color: $text-muted; border-color: #e2e8f0; &:hover { background: #f8fafc; } }
  &-sm { padding: 4px 10px; font-size: 12px; }
}