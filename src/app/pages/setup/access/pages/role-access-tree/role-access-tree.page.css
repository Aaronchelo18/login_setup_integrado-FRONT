:root{
  --blue-900:#0b2f58;
  --blue-700:#184fb8;
  --ink:#0b2a67;
  --muted:#77809a;
  --bg:#f4f7ff;
  --card:#fff;
  --border:#e6ebf7;
  --line:#cdd8f3;
}

/* ===== Layout ===== */
.page{ background:var(--bg); min-height:100svh; padding:20px; }

.hero{
  background:var(--blue-900); color:#fff; border-radius:16px; padding:16px 18px; margin-bottom:18px;
}
.hero__row{ display:flex; align-items:center; gap:16px; }
.back{ width:44px;height:44px;border-radius:12px;border:1px solid #ffffff33;background:#ffffff12;color:#fff;font-size:18px; }
.hero__meta{ flex:1; }
.crumbs{ opacity:.9;font-size:12px;margin-bottom:4px; }
.hero h1{ margin:0; font-size:22px; font-weight:800; }
.hero__actions .btn--outline{ background:#fff0; color:#fff; border:1px solid #ffffff66; padding:8px 12px; border-radius:12px; }

/* ===== Card / Canvas ===== */
.card{ background:var(--card); border:1px solid var(--border); border-radius:22px; box-shadow:0 10px 26px rgba(2,6,23,.06); }
.card__head{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px; border-bottom:1px solid var(--border);
  border-top-left-radius:22px; border-top-right-radius:22px;
  background:linear-gradient(180deg,#fbfdff,#f7f9ff);
}
.title .muted{ color:var(--muted); font-weight:700; margin-right:6px; }
.title .strong{ color:var(--ink); font-weight:900; }
.tools{ display:flex; gap:8px; align-items:center; }
.link{ background:none; border:none; color:var(--blue-700); font-weight:900; cursor:pointer; }
.sep{ color:#9aa6c7; }
.card__foot{ display:flex; gap:10px; justify-content:flex-end; padding:14px 16px; border-top:1px solid var(--border); }

.btn{ background:var(--blue-700); color:#fff; border:none; padding:10px 14px; border-radius:10px; font-weight:900; box-shadow:0 10px 20px rgba(24,79,184,.15); }
.btn[disabled]{ opacity:.6; cursor:not-allowed; }
.btn--ghost{ background:#fff; color:var(--ink); border:1px solid var(--border); }
.pill{ border-radius:999px; padding:10px 18px; }

/* ===== Skeleton ===== */
.sk{ height:18px; margin:12px 16px; border-radius:12px; background:linear-gradient(90deg,#eef2ff,#f6f8ff,#eef2ff); animation:sh 1.1s infinite; }
@keyframes sh{ 0%{background-position:200% 0} 100%{background-position:-200% 0} }

/* ===== √Årbol con ramas ===== */
.tree-wrap{ padding:12px 16px 18px; }

.tree{
  list-style:none; margin:0; padding:0 0 0 28px; position:relative;
}
.tree::before{
  content:""; position:absolute; left:12px; top:-6px; bottom:-6px;
  border-left:2px dashed var(--line);
}

.branch{ position:relative; padding-left:16px; }
.branch::before{
  content:""; position:absolute; left:-4px; top:18px; width:20px; height:12px;
  border-bottom:2px solid var(--line);
  border-left:2px solid var(--line);
  border-bottom-left-radius:8px;
  background:transparent;
}
.branch--root::before{ display:none; }
.tree > .branch--root::after{ content:""; position:absolute; left:12px; top:-10px; width:2px; height:10px; background:var(--line); }

/* ===== Nodo ===== */
.node{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  margin:8px 0;
}
.node__tag{
  display:flex; align-items:center; gap:10px;
  border:1px solid var(--border); background:#fff; padding:8px 12px;
  border-radius:12px; box-shadow:0 2px 0 rgba(24,79,184,.04) inset;
}
.node__tag input{ width:18px; height:18px; }
.node__text{ color:var(--ink); font-weight:800; letter-spacing:.2px; }
.chip{
  border:1px solid #e6ecff; background:#f4f7ff; color:#1e40af;
  padding:6px 8px; border-radius:10px; font-weight:800; cursor:pointer;
}
.chip:hover{ filter:brightness(.98); }

/* ===== Iconos por nivel ===== */
.node__icon{
  width:26px; height:26px; min-width:26px;
  display:grid; place-items:center;
  border:1px solid #e6ecff; background:#f5f8ff; color:#1e40af;
  border-radius:10px; margin-right:8px; font-size:14px; line-height:1;
}
.level-0 .node__icon::before{ content:'‚öô'; }          /* ra√≠z */
.level-1 .node__icon::before{ content:'üîë'; }          /* primer nivel */
.level-2.has-children .node__icon::before{ content:'üóÇ'; } /* carpeta */
.level-2.leaf         .node__icon::before{ content:'üìÑ'; } /* hoja */
.level-3.has-children .node__icon::before{ content:'üóÇ'; }
.level-3.leaf         .node__icon::before{ content:'üìÑ'; }
.node:hover .node__icon{ background:#eef4ff; }

/* ===== Layout ===== */
.page {
  background: #f4f7ff;
  min-height: 100vh;
  padding: 20px;
}

.hero {
  background: #0b2f58;
  color: #fff;
  border-radius: 16px;
  padding: 16px;
  margin-bottom: 20px;
}

.hero__row {
  display: flex;
  align-items: center;
  gap: 16px;
}

.back {
  background: transparent;
  border: 1px solid #ffffff33;
  border-radius: 8px;
  color: #fff;
  width: 40px;
  height: 40px;
}

.hero__meta {
  flex: 1;
}

.hero h1 {
  margin: 0;
  font-size: 20px;
  font-weight: 800;
}

.hero__actions .btn--outline {
  background: transparent;
  border: 1px solid #fff;
  color: #fff;
  border-radius: 8px;
  padding: 6px 12px;
}

/* ===== Card ===== */
.card {
  background: #fff;
  border-radius: 16px;
  border: 1px solid #e6ebf7;
  box-shadow: 0 8px 20px rgba(2, 6, 23, 0.06);
}

.card__head,
.card__foot {
  display: flex;
  justify-content: space-between;
  padding: 14px 16px;
  border-bottom: 1px solid #e6ebf7;
}

.card__foot {
  border-top: 1px solid #e6ebf7;
}

.title .muted {
  color: #77809a;
  margin-right: 4px;
  font-weight: 600;
}

.title .strong {
  font-weight: 800;
  color: #0b2a67;
}

/* ===== √Årbol ===== */
.tree-wrap {
  padding: 16px;
}

.tree {
  list-style: none;
  margin: 0;
  padding: 0;
}

.branch {
  margin: 6px 0;
}

.node-grid {
  display: grid;
  grid-template-columns: 40px 1fr 40px;
  align-items: center;
  gap: 10px;
}

.icon-col {
  display: flex;
  justify-content: center;
  align-items: center;
}

.node__icon {
  background: #eef4ff;
  border: 1px solid #d0dbff;
  border-radius: 8px;
  width: 28px;
  height: 28px;
  display: grid;
  place-items: center;
}

.node__tag {
  display: flex;
  align-items: center;
  gap: 8px;
}

.node__text {
  font-weight: 700;
  color: #0b2a67;
}

.action-col {
  display: flex;
  justify-content: center;
}

.chip {
  border: none;
  background: #f4f7ff;
  border-radius: 8px;
  padding: 6px 8px;
  cursor: pointer;
}

.chip:hover {
  background: #e2eaff;
}

/* ===== Botones ===== */
.btn {
  background: #184fb8;
  color: #fff;
  border: none;
  padding: 8px 14px;
  border-radius: 8px;
  font-weight: 700;
}

.btn--ghost {
  background: #fff;
  border: 1px solid #e6ebf7;
  color: #0b2a67;
}